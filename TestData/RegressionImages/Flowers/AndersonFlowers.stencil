STREAM: File
NAME: flowers
TUPLE_SIZE: 6
SEPARATOR: \s*,\s*
SOURCE: ./AndersonsFlowers.csv
SKIP: 1
STRICT: true

import BrewerPalettes

stream flowers(sepalL, petalW, sepalW, 
                        petalL, species, obs)		/*@\label{flowers:stream}@*/

layer FlowerPlot					/*@\label{flowers:layerDef}@*/
guide
  trend from ID                         		/*@\label{flowers:guideBegin}@*/
  legend[X:20,Y:90] from FILL_COLOR
  axis[guideLabel: "Petal Length"] Linear from Y
  axis[guideLabel: "Petal Width"] Linear from X		/*@\label{flowers:guideX}@*/
		                             		/*@\label{flowers:guideEnd}@*/
from flowers						/*@\label{flowers:fromBlock}@*/	
   ID: obs						/*@\label{flowers:simpleRule}@*/
   X:* Scale[0,100](petalL)				/*@\label{flowers:dynamic}@*/	
   Y:* Scale[0,100](petalW)
   FILL_COLOR: BrewerColors(species) -> SetAlpha(50,_) /*@\label{flowers:compose}@*/	
   REGISTRATION: "CENTER"
   SHAPE: "CROSS"
