STREAM: File
NAME: Tweets
TUPLE_SIZE: 1
SEPARATOR: ,
SOURCE: ./Tweets.txt
SKIP: 1
STRICT: TRUE

import ViewCanvas

stream Tweets(MESSAGE)	

view
from Tweets
    ZOOM : Zoom(view.PORTAL_WIDTH, view.PORTAL_HEIGHT, canvas.W, canvas.H)
    (X,Y): (canvas.X, canvas.Y)

layer Counts
guide axis[tickSize: 5, textOffset: 6] Categorical from X
   label.FONT: Font{10}
   line.PEN: Stroke{1} 
   label.REGISTRATION: "LEFT"

from Tweets
	ID: firstLetter(MESSAGE) -> firstLetter
	X:* firstLetter(MESSAGE) -#> Rank(firstLetter) -> Mult(11, Rank)
	Y: firstLetter(MESSAGE) -> Count(firstLetter) -> Mult(11, Count)
	REGISTRATION: "BOTTOM"
	SIZE: 10

	

operator firstLetter(Phrase) -> (Letter)
	default => Letter: Trim(Phrase) -> Substring(Trim, 0,1)
