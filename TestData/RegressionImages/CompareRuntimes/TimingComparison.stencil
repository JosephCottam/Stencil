STREAM: File
NAME: times
HEADER: elapse, size, refs, perm, type, i
SEPARATOR: \s*,\s*
SOURCE: ./StateVsFlowRuntimes.csv
SKIP: 1
STRICT: true

import BrewerPalettes

stream times(elapse, size, refs, perm, type, i)

layer Runtimes["POLY_LINE"]
guide
  axis from XS
  legend from PEN_COLOR
from times
  local(name):  Concatenate(refs, perm, type)
  ID: name
  IDX: Index(size)
  XS: Mult(size, 100)
  YS: Split[1](@Avg, name, elapse) -> Mult(_, -1)
  PEN_COLOR: BrewerColors(name)

operator Avg: Range[ALL](@Mean)
