STREAM: File
NAME: VertexList
HEADER: ID1, ID2
SEPARATOR: ,
SOURCE: /Volumes/scratch/jcottam/Stencil/Stencil/TestData/RegressionImages/NodeLink/tree2.tree
SKIP: 1
STRICT: true

stream VertexList (parent, child)

stream Prime ()
from VertexList
  () : Layout.add(parent,child)

layer Nodes
from VertexList 
	ID: child
	REGISTRATION : "CENTER"
	FILL_COLOR:  @Color{BLUE}
	(SHAPE, SIZE) : ("ELLIPSE", 5)
	(X,Y) :* Layout.query(child)
	 
layer Edges[LINE]
from VertexList 
	ID: Concatenate(parent, child)
	(X.1, Y.1):* Nodes.find(parent) -> (X,Y)
	(X.2, Y.2):* Nodes.find(child) ->  (X,Y)
	STROKE_COLOR: @Color{GRAY30,80}

layer Labels[TEXT]
from VertexList
	ID : child
	(X,Y):* Nodes.find(child) -> (X,Y)
	(TEXT, FONT_SIZE): (child, 10)
	FONT_COLOR: @Color{GRAY60}


operator Layout base BalloonLayout
