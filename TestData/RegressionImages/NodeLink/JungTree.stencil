STREAM: File
NAME: VertexList
TUPLE_SIZE: 2
SEPARATOR: ,
SOURCE: ./tree2.tree
SKIP: 1
STRICT: true

import JUNG

stream VertexList (parent, child)

stream Prime ()
from VertexList
  () : Layout.add(parent,child)

layer Nodes
from VertexList 
    ID: child
    REGISTRATION : "CENTER"
    FILL_COLOR:  @Color{BLUE}
    (SHAPE, SIZE) : ("ELLIPSE", 5)
    (X,Y) :* Layout.query(child)
     
layer Edges["LINE"]
from VertexList 
    ID: Concatenate(parent, child)
    (X1, Y1):* Nodes.find(parent) -> (Nodes.X, Nodes.Y)
    (X2, Y2):* Nodes.find(child) ->  (Nodes.X, Nodes.Y)
    PEN_COLOR: @Color{GRAY30,80}

layer Labels["TEXT"]
from VertexList
    ID : child
    (X,Y):* Nodes.query(child) -> (Nodes.X, Nodes.Y)
    TEXT: child
    FONT: @Font{10}
    COLOR: @Color{GRAY60}

operator Layout : BalloonLayout
