import Layouts
import Geometry : Geo

stream Tweets(message, user, tags, geo, place, date) from Twitter
stream Mouse(X, Y, BUTTON, SCREEN_X, SCREEN_Y, DELTA_X, DELTA_Y, CLICK_COUNT, CTRL, ALT, SHIFT, META, TYPE) from Mouse

view
from #Render
  (X,Y,WIDTH, HEIGHT) : Map.bounds()


layer Map
from Tweets
   filter (geo != NULL)
   ID: Count()
   (X,Y): (geo.1, geo.0) 
   REGISTRATION: "CENTER"
   SIZE: 10
   IMPLANT: "POINT"
   SHAPE: "RECTANGLE"
   FILL_COLOR: Color{Purple, 20}
 
layer Locations["TEXT"]
from Tweets
   filter (geo != NULL)
   local(id) : Count()
   ID: local.id
   TEXT: message
   (X,Y): (geo.1, geo.0) 
   VISIBLE:* Nearest() -> EQ(_, local.id)
   IMPLANT: "POINT"

stream interact()
from Mouse
   (): Locations.nearest(X,Y) -> Nearest.set(Locations.ID)

operator Nearest : Remember
